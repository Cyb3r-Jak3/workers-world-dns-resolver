---
import { SEO } from "astro-seo";
import { getImage } from "astro:assets";
import logoImage from "../images/logo.png";

const optomizedLogo = await getImage({
	src: logoImage,
	width: 120,
	height: 120,
	format: "webp",
	quality: 80,
});

import { version } from '../../package.json';

---
<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<link rel="sitemap" href="/sitemap-index.xml" />
		<meta name="generator" content={Astro.generator} />
		<SEO
			title="World DNS Resolver"
			description="Resolve DNS queries globally with our World DNS Resolver. Fast, reliable, and secure DNS lookups for all your needs."
			openGraph={{
				basic: {
					title: "World DNS Resolver",
					type: "website",
					image: optomizedLogo.src,
				},
				optional: {
					description: "Resolve DNS queries globally with our World DNS Resolver. Fast, reliable, and secure DNS lookups for all your needs.",
					siteName: "World DNS Resolver",
				},
			}}
			/>
	</head>
	<body>
		<nav id="topbar">
            <a href="/" class="nav-title">World DNS Resolver</a>
            <div class="nav-links">
                <a href="/dns_servers">DNS Servers</a>
				<a href="/dns_types">DNS Types</a>
                <a href="/resolve">DNS Lookup</a>
            </div>
        </nav>
		<slot />
	<footer>
            <pre>Version: {version} | <a href="/debug">Debug Info</a> | <a href="/sitemap-index.xml">Sitemap</a> | <a href="/api/v1/docs">API Docs</a></pre>
        </footer>
	</body>
</html>

<style>
    html {
        margin: 0;
        width: 100%;
        height: 100%;
    }
    body {
        margin: 0;
        width: 100%;
        height: 100%;
		min-height: 100vh;
        display: flex;
        flex-direction: column;
    }

	h1 {
      text-align: center;
      margin-top: 1.5em;
      margin-bottom: 1em;
    }
    #topbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        background: linear-gradient(90deg, #3245ff 0%, #bc52ee 100%);
        padding: 0 2rem;
        height: 56px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    }
    .nav-title {
        color: #fff;
        font-size: 1.25rem;
        font-weight: 700;
        text-decoration: none;
        letter-spacing: 0.02em;
    }
    .nav-links {
        display: flex;
        gap: 1.5rem;
    }
    .nav-links a {
        color: #fff;
        text-decoration: none;
        font-size: 1rem;
        font-weight: 500;
        transition: color 0.2s;
    }
    .nav-links a:hover {
        color: #e0e7ff;
        text-decoration: underline;
    }
	main {
        flex: 1 1 auto;
        display: flex;
        flex-direction: column;
    }
	.center-layout {
		flex: 1 1 auto;
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;
	}
	footer {
        margin-top: auto;
        text-align: center;
        margin-bottom: 0;
    }
    @media (max-width: 600px) {
        #topbar {
            flex-direction: column;
            align-items: flex-start;
            padding: 0.5rem 1rem;
            height: auto;
        }
        .nav-links {
            margin-top: 0.5rem;
            gap: 1rem;
        }
    }
</style>
